"use strict";
const mailLinks = document.querySelectorAll(
  "[data-part1][data-part2][data-part3]"
);
for (const link of mailLinks) {
  let e = link.dataset;
  link.setAttribute(
    "href",
    `mailto:${e.part1}@${e.part2}.${e.part3}?subject=${encodeURIComponent(
      link.textContent
    )}`
  );
}
const slides = document.querySelectorAll(".slide"),
  nextSlide = document.querySelector(".btn-next"),
  previousSlide = document.querySelector(".btn-prev");
let currentSlide = 0,
  maxSlide = slides.length - 1;
slides.forEach((e, t) => {
  e.style.transform = `translateX(${100 * t}%)`;
}),
  nextSlide.addEventListener("click", function () {
    currentSlide === maxSlide ? (currentSlide = 0) : currentSlide++,
      slides.forEach((e, t) => {
        e.style.transform = `translateX(${100 * (t - currentSlide)}%)`;
      });
  }),
  previousSlide.addEventListener("click", function () {
    0 === currentSlide ? (currentSlide = maxSlide) : currentSlide--,
      slides.forEach((e, t) => {
        e.style.transform = `translateX(${100 * (t - currentSlide)}%)`;
      });
  });
const hamburger = document.querySelector("#hamburger"),
  popup = document.querySelector("#popup"),
  body = document.body,
  menu = document.querySelector("#menu").cloneNode(1);
function hamburgerHandler(e) {
  e.preventDefault(),
    popup.classList.toggle("open"),
    hamburger.classList.toggle("active"),
    body.classList.toggle("noscroll"),
    renderPopup();
}
function renderPopup() {
  popup.appendChild(menu);
}
hamburger.addEventListener("click", hamburgerHandler);
const links = Array.from(menu.children);
function closeOnClick() {
  popup.classList.remove("open"),
    hamburger.classList.remove("active"),
    body.classList.remove("noscroll");
}
links.forEach((e) => {
  e.addEventListener("click", closeOnClick);
}),
  (function () {
    let e = function (e, t) {
      let r = document.querySelector(".header").clientHeight,
        l = document.querySelector(e).getBoundingClientRect().top - r,
        n = window.scrollY,
        i = null,
        o = function (e) {
          var r, c, s, a;
          null === i && (i = e);
          let u = e - i,
            d =
              ((r = u),
              (c = n),
              (s = l),
              (a = t),
              1 > (r /= a / 2)
                ? (s / 2) * r * r + c
                : (-s / 2) * (--r * (r - 2) - 1) + c);
          window.scrollTo(0, d), u < t && requestAnimationFrame(o);
        };
      requestAnimationFrame(o);
    };
    !(function () {
      let t = document.querySelectorAll(".js-scroll");
      t.forEach((t) => {
        t.addEventListener("click", function () {
          let t = this.getAttribute("href");
          e(t, 500);
        });
      });
    })();
  })();
